---
title: 2024.11.16随笔
tags:
  - YOLO
  - 玉米穗检测
  - 深度学习
  - 计算机视觉
categories:
  - - 技术实践
  - - 人工智能
  - - 计算机视觉
  - - 模型理论与实践
cover: /img/2024/11/16/yolos.png
date: 2024-11-16 18:35:33
---

开始的地方：数据集和准备工作
最开始，我选择了 MTDC-UAV 数据集，这个数据集包含了许多图像和标注，适合做目标检测和回归任务。我编写了一个脚本，把 800 张有标注的图像按照 7:2:1 的比例随机分配成 Train、Valid、Test 集。重要的是，确保每个集合里的图片都是随机选取的，三个集合之间没有重复，并且每张图像都能找到对应的标注文件。

<!-- more -->

YOLOv5 的初步实验：尺寸与置信度的探索
一开始，我决定用 YOLOv5 来做一些基础实验，主要测试不同的训练和预测输入尺寸。具体来说，就是使用 640 和 1280 的组合来看看效果。最开始我随便设置了一个置信度（conf）值，然后再根据结果调整。可是后来发现这种方法效率太低了，一次次手动调整实在太浪费时间。

转折点：写脚本优化效率
意识到这个问题后，我写了个脚本，可以自动调整 conf 值的范围，来提高实验效率。我先把这个脚本用在了 YOLOv5 上，结果发现效果有了明显提升。

数据存储与可视化
为了方便分析，我写了个功能，把每次调整的结果存储到 Excel 中。这样我就可以直观地看到每个参数组合下的回归结果。接着，我又加了一个功能，能够根据 Excel 生成 MAE、RMSE、R² 的统计图，这样就能清晰地看到哪些配置最优。

继续实验：YOLOv8 和 YOLO11
接下来，我把相同的方法应用到了 YOLOv8 和 YOLO11 上，分别对它们进行了同样的实验。每个模型的不同配置下的表现都不错，我得到了 36 张统计图 和 3 个版本的统计表。

最终的结果：12 条最优组合
根据这些实验结果，我得出了 12 条最优数据组合。这些组合代表了每个模型和配置的最佳表现，可以通过下表查看。

<table border="1">
  <thead>
    <tr style="background-color: green;">
      <th>YOLO Ver.</th>
      <th>Train Img</th>
      <th>Test Img</th>
      <th>SOpt. Conf.</th>
      <th>MAE</th>
      <th>RMSE</th>
      <th>R²</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>yolov5n</td>
      <td>640</td>
      <td>640</td>
      <td>0.31</td>
      <td>5.9375</td>
      <td>7.8509554</td>
      <td>0.9541248</td>
    </tr>
    <tr>
      <td>yolov5n</td>
      <td>640</td>
      <td>1280</td>
      <td>0.47</td>
      <td>6.2125</td>
      <td>8.1693023</td>
      <td>0.950329</td>
    </tr>
    <tr>
      <td>yolov5n</td>
      <td>1280</td>
      <td>640</td>
      <td>0.18</td>
      <td>6.7375</td>
      <td>9.1917082</td>
      <td>0.9371181</td>
    </tr>
    <tr>
      <td>yolov5n</td>
      <td>1280</td>
      <td>1280</td>
      <td>0.33</td>
      <td>5.4</td>
      <td>7.0816665</td>
      <td>0.9626746</td>
    </tr>
    <tr>
      <td>yolov8n</td>
      <td>640</td>
      <td>640</td>
      <td>0.29</td>
      <td>6.2625</td>
      <td>7.9348913</td>
      <td>0.9531386</td>
    </tr>
    <tr>
      <td>yolov8n</td>
      <td>640</td>
      <td>1280</td>
      <td>0.39</td>
      <td>6.275</td>
      <td>8.4926439</td>
      <td>0.9463192</td>
    </tr>
    <tr>
      <td>yolov8n</td>
      <td>1280</td>
      <td>640</td>
      <td>0.29</td>
      <td>6.2625</td>
      <td>7.9348913</td>
      <td>0.9531386</td>
    </tr>
    <tr>
      <td>yolov8n</td>
      <td>1280</td>
      <td>1280</td>
      <td>0.39</td>
      <td>6.275</td>
      <td>8.4926439</td>
      <td>0.9463192</td>
    </tr>
    <tr>
      <td>yolo11n</td>
      <td>640</td>
      <td>640</td>
      <td>0.35</td>
      <td>6</td>
      <td>7.930952</td>
      <td>0.9531851</td>
    </tr>
    <tr>
      <td>yolo11n</td>
      <td>640</td>
      <td>1280</td>
      <td>0.51</td>
      <td>7.0875</td>
      <td>9.2472969</td>
      <td>0.9363552</td>
    </tr>
    <tr>
      <td>yolo11n</td>
      <td>1280</td>
      <td>640</td>
      <td>0.23</td>
      <td>7.0125</td>
      <td>9.3828301</td>
      <td>0.9344759</td>
    </tr>
    <tr>
      <td>yolo11n</td>
      <td>1280</td>
      <td>1280</td>
      <td>0.32</td>
      <td>5.1875</td>
      <td>7.1388024</td>
      <td>0.9620699</td>
    </tr>
  </tbody>
</table>

总结
YOLO 在回归计数任务中的表现非常出色，尤其是当我通过调整 conf 值后，性能提升显著。这些实验结果表明，YOLO 不仅在目标检测中表现出色，在回归任务中也能大展拳脚，尤其是在密集计数或小物体检测场景下。
